<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1, user-scalable=no">
    <title>Fitme by lmeurs</title>

    <link rel="stylesheet" href="stylesheets/styles.css">
    <link rel="stylesheet" href="stylesheets/pygment_trac.css">
    <link rel="stylesheet" href="stylesheets/demo.css" />

    <script src="//code.jquery.com/jquery-1.7.js"></script> 
    <script src="stylesheets/fitme.min.js"></script>
  </head>
  <body>
    <div class="wrapper">
      <header>
        <h1>Fitme</h1>
        <p>Javascript library to fit a child element into a parent element</p>

        <p class="view"><a href="https://github.com/lmeurs/fitme">View the Project on GitHub <small>lmeurs/fitme</small></a></p>


        <ul>
          <li><a href="https://github.com/lmeurs/fitme/zipball/master">Download <strong>ZIP File</strong></a></li>
          <li><a href="https://github.com/lmeurs/fitme/tarball/master">Download <strong>TAR Ball</strong></a></li>
          <li><a href="https://github.com/lmeurs/fitme">View On <strong>GitHub</strong></a></li>
        </ul>
      </header>
      <section>



<h2>Example 1: Simple.</h2>
<div class="my-parent">
  <img class="my-child" width="1920" height="1080" src="image.jpg" alt="My image" />
</div>

<script>
// Example 1: Simple.
jQuery('.my-child').fitMe();
</script>



<hr />



<h2>Example 2: Setting and altering options using data attributes.</h2>

Focal point x:
<select data-example-2 data-focal-point data-focal-point-x>
  <option>0</option><option>0.1</option><option>0.2</option><option>0.3</option><option selected>0.4</option><option>0.5</option><option>0.6</option><option>0.7</option><option>0.8</option><option>0.9</option><option>1</option>
</select>

Focal point y:
<select data-example-2 data-focal-point data-focal-point-y>
  <option>0</option><option>0.1</option><option>0.2</option><option>0.3</option><option>0.4</option><option>0.5</option><option selected>0.6</option><option>0.7</option><option>0.8</option><option>0.9</option><option>1</option>
</select>

Fill mode:
<select data-example-2 data-fill-mode>
  <option>Cover</option><option>Contain</option>
</select>

<button data-example-2 data-toggle-overflow>Toggle overflow</button>

<div data-example-2 class="my-parent">
  <div data-example-2 class="my-child" data-fit-me-ratio="1920 / 1080" data-fit-me-focal-point-x="0.4" data-fit-me-focal-point-y="0.6" data-fit-me-fill-mode="cover">
    <img src="image.jpg" alt="My image" />
  </div>
</div>

<script>
(function($) {

  // Example 2: Setting and altering options using data attributes.
  var $element = $('.my-child[data-example-2]').fitMe();

  // Change focal point.
  $('select[data-example-2][data-focal-point]').change(function(e) {
    var dataAttribute = $(this).is('[data-focal-point-x]') ? 'fit-me-focal-point-x' : 'fit-me-focal-point-y'
      value = this.value;

    // Set new value and trigger update.
    $element
      .data(dataAttribute, value)
      .trigger('fit-me-update');
  });

  // Change fill mode.
  $('select[data-example-2][data-fill-mode]').change(function(e) {
    var value = this.value.toLowerCase();

    // Set new value and trigger update.
    $element
      .data('fit-me-fill-mode', value)
      .trigger('fit-me-update');
  });

  // Toggle overflow.
  $('button[data-example-2][data-toggle-overflow]').click(function(e) {
    // Set new value and trigger update.
    $element.parent().toggleClass('show-overflow');
  });

})(jQuery);
</script>



<hr />



<h2>Example 3: Setting and altering options directly.</h2>

Focal point x:
<select data-example-3 data-focal-point data-focal-point-x>
  <option>0</option><option>0.1</option><option>0.2</option><option>0.3</option><option selected>0.4</option><option>0.5</option><option>0.6</option><option>0.7</option><option>0.8</option><option>0.9</option><option>1</option>
</select>

Focal point y:
<select data-example-3 data-focal-point data-focal-point-y>
  <option>0</option><option>0.1</option><option>0.2</option><option>0.3</option><option>0.4</option><option>0.5</option><option selected>0.6</option><option>0.7</option><option>0.8</option><option>0.9</option><option>1</option>
</select>

Fill mode:
<select data-example-3 data-fill-mode>
  <option>Cover</option><option>Contain</option>
</select>

<button data-example-3 data-toggle-overflow>Toggle overflow</button>

<div data-example-3 class="my-parent">
  <div data-example-3 class="my-child">
    <img src="image.jpg" alt="My image" />
  </div>
</div>

<script>
(function($) {

  // Example 3: Setting and altering options directly.
  var $element = $('.my-child[data-example-3]').fitMe({
    ratio: 1920 / 1080,
    focalPointX: .4,
    focalPointY: .6,
    fillMode: 'cover'
  });

  // Change focal point.
  $('select[data-example-3][data-focal-point]').change(function(e) {
    var instance = $element.data('fit-me-instance'),
      key = $(this).is('[data-focal-point-x]') ? 'focalPointX' : 'focalPointY';

    // Set new value.
    instance.set(key, this.value);

    // Update.
    instance.update();
  });

  // Change fill mode.
  $('select[data-example-3][data-fill-mode]').change(function(e) {
    var instance = $element.data('fit-me-instance');

    // Set new value.
    instance.set('fillMode', this.value.toLowerCase());

    // Update.
    instance.update();
  });

  // Toggle overflow.
  $('button[data-example-3][data-toggle-overflow]').click(function(e) {
    // Toggle CSS class on parent element.
    $element.parent().toggleClass('show-overflow');
  });

})(jQuery);
</script>



<hr />



<h2>Example 4: Advanced example using <a href="http://scottjehl.github.io/picturefill/">Picture polyfill</a> for <a href="http://responsiveimages.org/">responsive images</a>.</h2>
<div data-example-4 data-fit-me-parent class="my-parent">
  <span data-example-4 data-fit-me-child data-picture data-alt="My image">
    <span data-src="image.jpg" data-width="1920" data-height="1080" data-focal-point-x="1" data-focal-point-y="1"></span>
    <span data-media="(max-width: 48em)" data-src="image-cropped.jpg" data-width="650" data-height="768" data-focal-point-x="0" data-focal-point-y="0"></span>
    <noscript><img src="image.jpg" width="1920" height="1080" alt="-" /></noscript>
  </span>
</div>

<script>

/*! Picturefill 1.2.1 - Responsive Images that work today. (and mimic the proposed Picture element with span elements). Author: Scott Jehl, Filament Group, 2012 | License: MIT/GPLv2 */
(function(e){"use strict";e.picturefill=function(){var t=e.document.getElementsByTagName("span");for(var n=0,r=t.length;n<r;n++){if(t[n].getAttribute("data-picture")!==null){var i=t[n].getElementsByTagName("span"),s=[];for(var o=0,u=i.length;o<u;o++){var a=i[o].getAttribute("data-media");if(!a||e.matchMedia&&e.matchMedia(a).matches){s.push(i[o])}}var f=t[n].getElementsByTagName("img")[0];if(s.length){var l=s.pop();if(!f||f.parentNode.nodeName==="NOSCRIPT"){f=e.document.createElement("img");f.alt=t[n].getAttribute("data-alt")}else if(l===f.parentNode){continue}f.src=l.getAttribute("data-src");l.appendChild(f);f.removeAttribute("width");f.removeAttribute("height")}else if(f){f.parentNode.removeChild(f)}}}};if(e.addEventListener){e.addEventListener("resize",e.picturefill,false);e.addEventListener("DOMContentLoaded",function(){e.picturefill();e.removeEventListener("load",e.picturefill,false)},false);e.addEventListener("load",e.picturefill,false)}else if(e.attachEvent){e.attachEvent("onload",e.picturefill)}})(this);

jQuery(window).load(function(e) {

  // Example 4: Advanced example using picture polyfill for responsive images.
  var $element = $('[data-example-4][data-fit-me-child]');

  /**
   * Example: If the child element is or contains a picture polyfill element
   * (see responsiveimages.org), the dimensions of the containing image might
   * differ on different screen resolutions. To make sure FitMe uses the right
   * dimensions, we alter the options on window resize and set
   * doProcessSettingsBeforeUpdate to TRUE.
   *
   * NB: Bind this window resize event before calling FitMe, so this callback is
   * called first.
   */
  $(window).resize(function(e) {
    updateInstance();
    setTimeout(updateInstance, 10);
  });

  // Initialize FitMe with custom parent getter.
  $element.fitMe({
    getParent: function() {
      return this.$child.closest('[data-fit-me-parent]');
    },
    readDataAttributes: false,
  });

  $(window).trigger('resize');

  function updateInstance() {
    // Get instance.
    var instance = $element.data('fit-me-instance'),
      // Get element with width and height data attributes.
      $elementWithDimensions = $element.find('img').parent(),
      ratio = $elementWithDimensions.data('width') / $elementWithDimensions.data('height');

    // Set focal points.
    instance.set('focalPointX', $elementWithDimensions.data('focal-point-x'));
    instance.set('focalPointY', $elementWithDimensions.data('focal-point-y'));

    // Set ratio.
    instance.set('ratio', ratio);
    // instance.update();
  }
});
</script>



      </section>
      <footer>
        <p>This project is maintained by <a href="https://github.com/lmeurs">lmeurs</a></p>
        <p><small>Hosted on GitHub Pages &mdash; Theme by <a href="https://github.com/orderedlist">orderedlist</a></small></p>
      </footer>
    </div>
    <script src="javascripts/scale.fix.js"></script>
    
  </body>
</html>
